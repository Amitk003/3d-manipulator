<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Interactive 3D Gesture Manipulator - Control 3D objects with hand gestures using MediaPipe and Three.js" />
  <meta name="keywords" content="3D, gesture control, hand tracking, MediaPipe, Three.js, augmented reality, interactive" />
  <title>ü§è 3D Gesture Manipulator - Interactive Hand Tracking</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Add loading animation */
    .loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #071024, #071426);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      transition: opacity 0.5s ease;
    }

    .loading.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(6,182,212,0.1);
      border-top: 3px solid #06b6d4;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>

<body>
  <div id="app">
    <header>
      <h1>3D Shape Manipulator ‚Äî Palm Skeleton Control</h1>
      <div class="controls" role="region" aria-label="controls">
        <button id="shape-cube" class="btn">Cube</button>
        <button id="shape-sphere" class="btn">Sphere</button>
        <button id="shape-torus" class="btn">Torus</button>
        <button id="reset" class="btn">Reset</button>
        <label class="toggle">
          <input id="toggle-video" type="checkbox" />
          Show Camera
        </label>
      </div>
    </header>

    <main>
      <div id="preview">
        <!-- video from webcam (hidden by default) -->
        <video id="video" playsinline autoplay muted></video>
        <!-- overlay canvas for drawing white skeleton -->
        <canvas id="overlay"></canvas>
        <!-- three.js canvas is automatically created by the script in #three-container -->
        <div id="three-container"></div>
      </div>

      <aside id="instructions">
        <h2>How to use</h2>
        <ol>
          <li>Allow camera access when prompted.</li>
          <li>Make sure your palm is visible and facing the camera.</li>
          <li><strong>Grab & Move:</strong> Close your palm to grab the object, move your hand to move it, then open your palm to release it.</li>
          <li><strong>Scale:</strong> Pinch (thumb + index tip) and move fingers closer/farther to scale.</li>
          <li><strong>Rotate:</strong> Rotate your palm to rotate the shape.</li>
          <li>Switch between Cube, Sphere, and Torus using the buttons above.</li>
        </ol>
        <p class="status" id="status">Status: waiting for camera...</p>
      </aside>
    </main>

    <footer>
      <small>Works offline after initial load. Built with MediaPipe Hands + Three.js</small>
    </footer>
  </div>

  <script type="module" src="script.js"></script>
</body>

</html>
